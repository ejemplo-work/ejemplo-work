var __fs_configuration_proxy,__fs_dncs,__fs_dncs_instance;HTMLElement.prototype.addFSEventListener=function(e,t,i){this.addEventListener?this.addEventListener(e,i):this.attachEvent(t,i)},__fs_configuration_proxy=function(e){this._instance=e,this._proxyId=1,this.push=function(e){this._instance.parseConfiguration(e[0],e[1])}},__fs_dncs=function(){this._advid={},this._allAdvid={},this._stradvid="",this._shard=!1,this._cookieDomain=!1,this._parameterString="",this._spans=[],this._numbers=[],this._classNames=["fs-dynamic-number"],this._loadEventTriggered=!1,this._formattingFunction=function(e,t){return e},this._requestTimeFunction=null,this._onScriptReadyFunction=null,this._numberReplacedListeners=[],this._numberConfigurations={},this._alternativeNumbers={},this._defaultFsButtonOptions={run:!1,pre:"Call us",post:["Call us @ {{phone}}"],useLocalPhoneNumber:!0},this._parameters={autoInvoke:!0,numberDetection:!0,trackEmailLinks:!1,returnInputNumber:!0,cookieLessMode:!1,trackTelLinks:!1,trackInputSubmit:!1,trackButton:!1,trackAll:!1},this._configurationFrozen=!1,this._cbwConfiguration={},this.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",this._defaultCookies=["__utma","__utmz","_ga","WT_FPC","xtidc","__fsComscoreCookie","__troRUID","vscr_vid","hubspotutk"],this._p_s_parameters=["__sess","__uid","__vdf","xtsd","xtsite","xtp","eloqua_email","eloqua_campaign_id"],this._altAnsNums="",this._loadModel="onload",this._waitFor=!1,this._getNumberEventTag="",this._spa={referrer:null,urlHistory:[],overrideUrl:null},this._crossDomainRequest=!1,this._dryRun=!1,this._minNumberLength=5,this._forceSameSiteForGetNumber=!1,this._sessionCookieLifetime=30,this._startRequestTime=null,this._ga4MpId="",this._ga4cid="",this._ga4sid="",this._cspid="",this._csuid="",this._cssn="",this.readConfigurationBundle(),this.getParameter("autoInvoke",!0)&&!1===this._waitFor&&this.addLoadEvent(function(){__fs_dncs_instance.loadEvent()}),this.resolveGa4Deps(),this.resolveCsDeps(),this.runOnScriptReadyFunction()},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),__fs_dncs.prototype={base64_encode:function(e){var t,i,n,s,a,r="",o="",d="",c=0;e=unescape(encodeURIComponent(e));do{t=e.charCodeAt(c++),i=e.charCodeAt(c++),o=e.charCodeAt(c++),n=t>>2,s=(3&t)<<4|i>>4,a=(15&i)<<2|o>>6,d=63&o,isNaN(i)?a=d=64:isNaN(o)&&(d=64),r=r+this.keyStr.charAt(n)+this.keyStr.charAt(s)+this.keyStr.charAt(a)+this.keyStr.charAt(d),t=i=o="",n=s=a=d=""}while(c<e.length);return r=r.replace(/=/g,"")},getUrlParameters:function(){var e={};if(document.location.search)for(var t=document.location.search.substring(1).split("&"),i=0;i<t.length;i++){var n=t[i].split("=");n[0]&&(e[n[0]]=n[1]||!0)}return e},getSessionId:function(e){var t="",i=this._stradvid;e&&(i=e),this.getCookie("__fs_dncs_sessionid_"+i)?t=this.getCookie("__fs_dncs_sessionid_"+i):this.getCookie("__fs_dncs_sessionid")&&(t=this.getCookie("__fs_dncs_sessionid"));var n=this.getUrlParameters();return void 0!==n.__fs_dncs_sessionid&&""!==n.__fs_dncs_sessionid&&!0!==n.__fs_dncs_sessionid&&(this._crossDomainRequest=!0,t=n.__fs_dncs_sessionid),t},getTrackingId:function(e){var t="",i=this._stradvid;return e&&(i=e),this.getCookie("__fs_dncs_trackingid_"+i)?t=this.getCookie("__fs_dncs_trackingid_"+i):this.getCookie("__fs_dncs_sessionid")&&(t=this.getCookie("__fs_dncs_trackingid")),t},stringify:function(e){var t="";if("number"==typeof e)return e;if("string"==typeof e||e instanceof String)return'"'+e+'"';if("[object Array]"===Object.prototype.toString.call(e)){t+="[";for(var i=0;i<e.length;i++)t+=this.stringify(e[i]),i<e.length-1&&(t+=",");t+="]"}else{t+="{";for(var n in e)e.hasOwnProperty(n)&&(t+='"'+n+'":'+this.stringify(e[n])+",");t=t.replace(/,$/,""),t+="}"}return t},resolveGa4Deps:function(){"function"==typeof gtag&&(this.setGa4MpId(this.getGa4MpId()),gtag("get",this._ga4MpId,"client_id",function(e){__fs_dncs_instance.setGa4ClientId(e)}),gtag("get",this._ga4MpId,"session_id",function(e){__fs_dncs_instance.setGa4SessionId(e)}))},resolveCsDeps:function(){window._uxa=window._uxa||[],_uxa.push(["afterPageView",function(e){if(void 0!==e.projectId&&void 0!==__fs_dncs_instance&&__fs_dncs_instance.setCsProjectId(e.projectId),void 0!==e.sessionKey&&void 0!==__fs_dncs_instance){var t=e.sessionKey.split(".");__fs_dncs_instance.setCsUserId(t[0]),__fs_dncs_instance.setCsSessionNumber(t[1])}}])},getGa4MpId:function(){if(""!==this._ga4MpId)return this._ga4MpId;if("object"==typeof google_tag_manager)for(key in google_tag_manager)if(key.startsWith("G-"))return key;return""},setGa4MpId:function(e){this._ga4MpId=e},setGa4ClientId:function(e){this._ga4cid=e},setGa4SessionId:function(e){this._ga4sid=e},setCsProjectId:function(e){this._cspid=e},setCsUserId:function(e){this._csuid=e},setCsSessionNumber:function(e){this._cssn=e},addElementClass:function(e){this._classNames.push(e)},setCbwAnsweringNumber:function(e){this._cbwConfiguration.answering_number=e},setCbwCallerId:function(e){this._cbwConfiguration.caller_id=e},setAdv:function(e){this._advid[e.id]=e,this._allAdvid[e.id]=e,this._stradvid=e.id},setTestMode:function(e){this._dryRun=e},setShard:function(e){e=Number(e),this._shard=!isNaN(e)&&e},setCookieDomain:function(e){this._cookieDomain=e},setSessionCookieLifetime:function(e){this._sessionCookieLifetime=e},setMinimumNumberLength:function(e){this._minNumberLength=Number(e)},addAlternativeAnsweringNumbers:function(e){this._altAnsNums=e},prepareData:function(e){e&&!this.checkSameSite()&&(this.setCookie("__fs_dncs_prep_u",document.location.href,this._sessionCookieLifetime),this.setCookie("__fs_dncs_prep_r",document.referrer?document.referrer:"",this._sessionCookieLifetime))},readConfigurationBundle:function(){if("object"==typeof __fs_conf&&!__fs_conf._proxyId){var e=__fs_conf;__fs_conf=new __fs_configuration_proxy(this);for(key in e)this.parseConfiguration(e[key][0],e[key][1])}},parseConfiguration:function(e,t){this._configurationFrozen||("function"==typeof this[e]?this[e](t):this.setParameter(e,t))},setParameter:function(e,t){this._parameters[e]=t},getParameter:function(e,t){return this._parameters.hasOwnProperty(e)?"freespeeHost"===e?this._parameters[e].replace(/http:\/\/|^\/\//,"https://"):this._parameters[e]:void 0!==t?t:null},replaceNumber:function(e,t){var i=this.cleanNumber(e.innerHTML),n=this._formattingFunction(t.local,t.e164);if(null!==n){var s=unescape(n),a=this.cleanNumber(t.e164);"FORM"===e.tagName?(i=this.cleanNumber(e.action),e.action=-1!=e.action.indexOf("tel:")?"tel:"+a:s):"A"===e.tagName&&this.cleanNumber(e.href)==this.cleanNumber(e.innerHTML)?(e.innerHTML=-1!=e.innerHTML.indexOf("tel:")?"tel:"+a:s,e.href=-1!=e.href.indexOf("tel:")?"tel:"+a:s):"A"===e.tagName?e.href=-1!=e.href.indexOf("tel:")?"tel:"+a:s:"A"!==e.tagName&&(e.innerHTML=s),this.notifyNumberReplacedListeners(e,i,s)}},notifyNumberReplacedListeners:function(e,t,i){for(var n in this._numberReplacedListeners){var s=this;setTimeout(function(){s._numberReplacedListeners[n](e,t,i)},1)}},addNumberReplacedListener:function(e){"function"==typeof e&&this._numberReplacedListeners.push(e)},removeNumberReplacedListener:function(e){for(var t=0;t<this._numberReplacedListeners.length;t+=1)this._numberReplacedListeners[t]==e&&(this._numberReplacedListeners.splice(t,1),t-=1)},removeAllNumberReplacedListeners:function(){this._numberReplacedListeners=[]},addNumberConfiguration:function(e){"string"==typeof e[0]&&"object"==typeof e[1]&&(this._numberConfigurations[this.cleanNumber(e[0])]=e[1])},setParameterString:function(e){this._parameterString=e},appendCookies:function(e){for(var t=0;t<e.length;t++)this._defaultCookies[e[t]]||this._defaultCookies.push(e[t])},clearFormattingFunction:function(){this._formattingFunction=function(e){return e}},setFormattingFunction:function(e){"function"==typeof e&&(this._formattingFunction=e)},setOnScriptReadyFunction:function(e){"function"==typeof e&&(this._onScriptReadyFunction=e)},runOnScriptReadyFunction:function(){"function"==typeof this._onScriptReadyFunction&&this._onScriptReadyFunction()},setRequestTimerFunction:function(e){"function"==typeof e&&(this._requestTimeFunction=e)},runRequestTimerFunction:function(e,t){"function"==typeof this._requestTimeFunction&&this._requestTimeFunction(e,t)},waitFor:function(e,t,i,n){var s,a=setInterval(function(){void 0!==__fs_dncs_instance&&e()&&(clearInterval(a),s&&clearTimeout(s),t())},i);n&&(s=setTimeout(function(){clearInterval(a)},n))},setWaitForFunction:function(e,t,i){"function"==typeof e&&(t||(t=100),i||(i=!1),this._waitFor=!0,this.waitFor(e,function(){__fs_dncs_instance.loadEvent()},t,i))},setLoadModel:function(e){"onDomLoaded"===e&&(this._loadModel="ondom")},addLoadEvent:function(e){"onload"===this._loadModel?window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent&&window.attachEvent("onload",e):"ondom"===this._loadModel&&(document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e()}))},setCookie:function(e,t,i){if(!0===this.getParameter("cookieLessMode",!1))return!0;var n=new Date((new Date).getTime()+6e4*i).toUTCString(),s="";this._cookieDomain&&(s=";domain="+this._cookieDomain);var a=escape(t)+(null==i?"":"; expires="+n+s+"; path=/");document.cookie=e+"="+a},getCookie:function(e){var t,i,n,s=document.cookie.split(";");for(t=0;t<s.length;t++)if(i=s[t].substr(0,s[t].indexOf("=")),n=s[t].substr(s[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))===e)return unescape(n);return""},iterate_the_DOM:function(e){var t=document.getElementsByTagName("*"),i=t.length;do{e(t[i])}while(--i)},getElementsByClassName:function(e){var t=document.all&&!document.addEventListener;if(document.getElementsByClassName&&!t)return document.getElementsByClassName(e);var i=[];return this.iterate_the_DOM(function(t){t&&-1!=t.className.indexOf(e)&&i.push(t)}),i},cleanNumber:function(e){return e=e.trim(),e=String(unescape(e)).replace(/(<([^>]+)>)/gi,"").replace(/\(0\)/gi,"").replace(/tel:/,"").replace(/telprompt:/,"").replace(/[\n\r]+/g,""),e.replace(/(^\+?).*/,"$1")+e.replace(/[^0-9]/gi,"")},cleanNumbersSeparated:function(e,t){for(var i=e.split(t),n=i.length,s=[],a=0;a<n;a++)s[a]=this.cleanNumber(i[a]);return s.join(t)},cleanNumberInText:function(e){return e.replace(/([0-9])\s*-?\s?(?=\d)/gi,"$1")},replaceNumberInText:function(e,t,i){var n=this._numbers[this.cleanNumber(e.nodeValue.substring(t,i))],s=this.cleanNumber(e.nodeValue.substring(t,i)),a=null;if(n&&n.replace_with){var r=n.replace_with,o=this._formattingFunction(r.local,r.e164);if(null===o)return;a=unescape(o),2===e.nodeType&&-1!==e.nodeValue.indexOf("tel:")?"+3980"!==r.e164.substr(0,5)?e.nodeValue=e.nodeValue.substring(0,t)+r.e164+e.nodeValue.substring(i):e.nodeValue=e.nodeValue.substring(0,t)+r.local.replace(/\s/g,"")+e.nodeValue.substring(i):e.nodeValue=e.nodeValue.substring(0,t)+a+e.nodeValue.substring(i)}this.notifyNumberReplacedListeners(e.parentNode?e.parentNode:e,s,a)},lookForButtonParams:function(e){for(var t=null,i=0;i<10;i++){if(null!==e.getAttribute("data-fs-parameters")){t=e;break}e=e.parentNode}return t},onClickToReveal:function(e){var t=__fs_dncs_instance;if(null===e.target.getAttribute("data-fs-replaced")){e.preventDefault(),e.stopPropagation();var i=__fs_dncs_instance.lookForButtonParams(e.target);if(null===i)return;var n=i.getAttribute("data-fs-parameters");t.getNumber(function(e,i){var n=t.getParameter("fsButton",t._defaultFsButtonOptions),s=null!==i?!0===n.useLocalPhoneNumber?i.local:i.e164:t._numbers[e.getAttribute("data-fs-nr")].originalNumber,a=null!==i?i.e164:t._numbers[e.getAttribute("data-fs-nr")].cleanNumber,r=e.getAttribute("data-fs-index")?e.getAttribute("data-fs-index"):0;if(e.innerHTML=e.innerHTML.replace(n.pre,n.post[r].replace("{{phone}}",s)),e.setAttribute("href","tel:"+a),e.setAttribute("data-fs-replaced",!0),null===i&&null!==e.getAttribute("data-fs-original-href")&&e.setAttribute("href","tel:"+e.getAttribute("data-fs-original-href")),null!==i){var o=__fs_dncs_instance._formattingFunction(i.local,i.e164);if(null===o)return;var d=unescape(o);__fs_dncs_instance.notifyNumberReplacedListeners(e,e.getAttribute("data-fs-nr"),d)}},i,i.getAttribute("data-fs-nr"),t._stradvid,null,n||null,null)}},addNumberInText:function(e,t,i){var n=e.nodeValue.substring(t,i),s=this.cleanNumber(n);s.length>=this._minNumberLength&&(void 0===this._numbers[s]?this._numbers[s]={cleanNumber:s,originalNumber:n,nodes:[e]}:this._numbers[s].hasOwnProperty("nodes")&&this._numbers[s].nodes.push(e))},addFsLinkToDOM:function(e){for(var t=this.getParameter("fsButton",this._defaultFsButtonOptions),i=0;i<e.length;i++)for(var n=this._numbers[e[i].number],s=0;s<n.nodes.length;s++){if("href"===n.nodes[s].nodeName){if(n.nodes[s].ownerElement.setAttribute("data-fs-original-href",n.originalNumber),n.nodes[s].nodeValue="javascript:void(0)","A"===n.nodes[s].ownerElement.tagName){o=n.nodes[s].ownerElement;for(var a=t.post.length-1;a>=0;a--){var r=t.post[a].replace("{{phone}}",n.originalNumber);if(-1!==n.nodes[s].ownerElement.innerHTML.indexOf(r)){n.nodes[s].ownerElement.innerHTML=n.nodes[s].ownerElement.innerHTML.replace(r,t.pre);break}}}}else{if(!n.nodes[s].parentNode)continue;var o;if("A"===n.nodes[s].parentNode.tagName)o=n.nodes[s].parentNode,n.nodes[s].nodeValue=n.nodes[s].nodeValue.replace(n.originalNumber,t.pre);else{var d="fs-button-"+(new Date).getTime()+Math.floor(1e3*Math.random()),c=document.createElement("a");c.setAttribute("id",d),c.setAttribute("href","javascript:void(0)"),c.setAttribute("data-fs-original-href",n.originalNumber),c.innerHTML=t.pre;for(var a=t.post.length-1;a>=0;a--){var r=t.post[a].replace("{{phone}}",n.originalNumber);if(-1!==n.nodes[s].parentNode.innerHTML.indexOf(r)){c.setAttribute("data-fs-index",a),n.nodes[s].parentNode.innerHTML=n.nodes[s].parentNode.innerHTML.replace(r,c.outerHTML),o=document.getElementById(d);break}if(-1!==this.cleanNumberInText(n.nodes[s].parentNode.innerHTML).indexOf(this.cleanNumberInText(r))){c.setAttribute("data-fs-index",a),n.nodes[s].parentNode.innerHTML=this.cleanNumberInText(n.nodes[s].parentNode.innerHTML).replace(this.cleanNumberInText(r),c.outerHTML),o=document.getElementById(d);break}}}}o&&(o.addFSEventListener("click","onclick",this.onClickToReveal),o.setAttribute("data-fs-nr",n.cleanNumber),e[i].custnr&&e[i].custname&&o.setAttribute("data-fs-parameters","&custnr="+e[i].custnr+"&custname="+encodeURIComponent(e[i].custname)))}},addOrReplaceNumbersInText:function(e,t){var i=!1,n=0,s=0;if(e.nodeValue&&e.nodeValue.length<5e4&&/\d.*\d.*\d.*\d.*\d/.test(e.nodeValue)){for(var a=e.nodeValue.split(""),r=0;r<e.nodeValue.length;r++){var o=a[r];i&&(o>="0"&&o<="9"?s=r+1:"-"===o||" "===o||" "===o||"\t"===o||"\r"===o||"\n"===o||"."===o||"("===o||")"===o||"\v"===o||"/"===o?"("!==o&&"/"!==o||(0==t?this.addNumberInText(e,n,s):this.replaceNumberInText(e,n,s)):(0==t?this.addNumberInText(e,n,s):this.replaceNumberInText(e,n,s),n=0,s=0,i=!1)),!i&&("+"===o||o>="0"&&o<="9")&&(i=!0,n=r)}i&&(0==t?this.addNumberInText(e,n,s):this.replaceNumberInText(e,n,s),n=0,s=0,i=!1)}},loopTextElementsForNumbers:function(e,t){if(e)for(e=e.firstChild;null!=e;){var i=e.tagName;if(i&&(i=i.toLowerCase()),3==e.nodeType)this.addOrReplaceNumbersInText(e,t);else if(1==e.nodeType&&(!i||i&&"script"!==i&&"style"!==i&&"noscript"!==i)){if(this.loopTextElementsForNumbers(e,t),i&&"a"===i){var n=e.getAttributeNode("href");n&&this.addOrReplaceNumbersInText(n,t)}if(i&&"form"===i){var n=e.getAttributeNode("action");n&&this.addOrReplaceNumbersInText(n,t)}}e=e.nextSibling}},addEventListenerToElement:function(e,t){null===e.getAttribute("fs-link")&&(e.addFSEventListener("click","onclick",t),e.setAttribute("fs-link","true"))},addEventsToTelLinks:function(){for(var e=document.getElementsByTagName("a"),t=0,i=e.length;t<i;t++)e[t].getAttribute("href")&&e[t].getAttribute("href").indexOf("tel:")>=0&&this.addEventListenerToElement(e[t],this.attachTelEvent())},addEventsToMailToLinks:function(){for(var e=document.getElementsByTagName("a"),t=0,i=e.length;t<i;t++)e[t].getAttribute("href")&&e[t].getAttribute("href").indexOf("mailto:")>=0&&this.addEventListenerToElement(e[t],this.attachEmailEvent())},addEventsOnInputTypeSubmitClicked:function(){for(var e=document.getElementsByTagName("input"),t=0,i=e.length;t<i;t++)"submit"===e[t].getAttribute("type")&&this.addEventListenerToElement(e[t],this.attachInputSubmitEvent())},addEventsOnButtonClicked:function(){for(var e=document.getElementsByTagName("button"),t=0,i=e.length;t<i;t++)this.addEventListenerToElement(e[t],this.attachButtonEvent())},attachTelEvent:function(){return function(){var e=this.getAttribute("adv-id"),t=this.getAttribute("href"),i=t.indexOf("?");i>=0&&(t=t.substring(0,i));var n=t.replace("tel:","").trim(),s=window.location.href;__fs_dncs_instance.sendEvent("tel_link_tracking",n,{url:s},e)}},attachEmailEvent:function(){return function(){var e=this.getAttribute("adv-id"),t=this.getAttribute("href"),i=t.indexOf("?");i>=0&&(t=t.substring(0,i));var n=t.replace("mailto:","").trim(),s=window.location.href;__fs_dncs_instance.sendEvent("email_link_tracking",n,{url:s},e)}},attachInputSubmitEvent:function(){return function(){var e=this.getAttribute("adv-id"),t=this.getAttribute("id"),i=this.getAttribute("name"),n=window.location.href;__fs_dncs_instance.sendEvent("input_submit_tracking",t,{url:n,name:i},e)}},attachButtonEvent:function(){return function(){var e=this.getAttribute("adv-id"),t=this.getAttribute("name"),i=this.getAttribute("type"),n=this.getAttribute("class"),s=window.location.href;__fs_dncs_instance.sendEvent("button_tracking",t,{url:s,type:i,class:n},e)}},loadEvent:function(){var e,t,i,n,s=!1;if(!this._loadEventTriggered){this._loadEventTriggered=!0;for(e in this._classNames)for(t=this.getElementsByClassName(this._classNames[e]),i=0,n=t.length;i<n;i+=1)"A"===t[i].tagName&&this.cleanNumber(t[i].innerHTML)==this.cleanNumber(t[i].href)?(this._spans.push(t[i]),this._numbers[this.cleanNumber(t[i].innerHTML)]={}):"A"===t[i].tagName?(this._spans.push(t[i]),this._numbers[this.cleanNumber(t[i].href)]={}):"FORM"===t[i].tagName?(this._spans.push(t[i]),this._numbers[this.cleanNumber(t[i].action)]={}):0==t[i].children.length&&"A"!==t[i].tagName?(this._spans.push(t[i]),this._numbers[this.cleanNumber(t[i].innerHTML)]={}):t[i].children.length>0&&"A"===t[i].firstChild.tagName&&this.cleanNumber(t[i].firstChild.innerHTML)==this.cleanNumber(t[i].firstChild.href)?(this._spans.push(t[i].firstChild),this._numbers[this.cleanNumber(t[i].firstChild.innerHTML)]={}):t[i].children.length>0&&"A"===t[i].firstChild.tagName&&(this._spans.push(t[i].firstChild),this._numbers[this.cleanNumber(t[i].firstChild.href)]={});var a=this.getParameter("fsButton",this._defaultFsButtonOptions);(this.getParameter("numberDetection",!1)||a.run)&&(this.loopTextElementsForNumbers(document.body,!1),a.run&&(s=!0)),(this.getParameter("trackEmailLinks",!1)||this.getParameter("trackAll",!1))&&this.addEventsToMailToLinks(),(this.getParameter("trackTelLinks",!1)||this.getParameter("trackAll",!1))&&this.addEventsToTelLinks(),(this.getParameter("trackInputSubmit",!1)||this.getParameter("trackAll",!1))&&this.addEventsOnInputTypeSubmitClicked(),(this.getParameter("trackButton",!1)||this.getParameter("trackAll",!1))&&this.addEventsOnButtonClicked();for(var r in this._advid)this._advid[r].cbw_visible_number&&(this._advid[r].cbw_visible_number=this.cleanNumber(this._advid[r].cbw_visible_number),this._numbers[this._advid[r].cbw_visible_number]={});this.makeBackendRequest(s)}},trackPage:function(e){e=e||{},this._spa.urlHistory.length>0&&(this._spa.referrer=this._spa.urlHistory[this._spa.urlHistory.length-1]),this._spa.urlHistory.push(window.location.href),e.overrideUrl&&(this._spa.overrideUrl=e.overrideUrl),e.noRequest||(this._loadEventTriggered=!1,this.loadEvent())},checkSameSite:function(){if(this._spa.referrer)return 1;var e="",t=0;if(document.referrer){var i=document.createElement("a");i.href=document.referrer,e=i.hostname}return!1!==this._cookieDomain&&-1!==e.indexOf(this._cookieDomain)?1:(e===window.location.hostname&&(t=1),t)},makeBackendRequest:function(e,t,i,n,a,r,o){var d,c,_,u,l,h,f,p,m,g,b,v,y="";this._startRequestTime=performance.now(),""!==this._ga4cid&&(y=y+"&_p_gtag_client_id="+this._ga4cid),""!==this._ga4sid&&(y=y+"&_p_gtag_session_id="+this._ga4sid),""!==this._cspid&&(y=y+"&_p_cs_pid="+this._cspid),""!==this._csuid&&(y=y+"&_p_cs_uid="+this._csuid),""!==this._cssn&&(y=y+"&_p_cs_sn="+this._cssn),"undefined"!=typeof pa&&("function"==typeof pa.getVisitorId&&(y=y+"&_p_pa_vid="+pa.getVisitorId()),"function"==typeof pa.getConfiguration&&(y=y+"&_p_pa_sid="+pa.getConfiguration("site"),y=y+"&_p_pa_cd="+pa.getConfiguration("collectDomain")));for(var k=0;k<this._p_s_parameters.length;k++)"string"==typeof window[this._p_s_parameters[k]]&&(y=y+"&_p_s"+this._p_s_parameters[k]+"="+window[this._p_s_parameters[k]]),"number"==typeof window[this._p_s_parameters[k]]&&(y=y+"&_p_s"+this._p_s_parameters[k]+"="+window[this._p_s_parameters[k]]),"object"==typeof window[this._p_s_parameters[k]]&&(y=y+"&_p_s"+this._p_s_parameters[k]+"="+window[this._p_s_parameters[k]].join("."));if("undefined"!=typeof ga&&"function"==typeof ga.getAll){for(var C=ga.getAll(),w={},N=[],I=[],A=[],k=0;k<C.length;k++)if("object"==typeof C[k]){var T=C[k].get("clientId");void 0!==T&&""!==T&&!1===I.includes(T)&&I.push(T);var E=C[k].get("trackingId");void 0!==E&&""!==E&&!1===N.includes(E)&&N.push(E);var x=C[k].get("cookieName");void 0!==x&&""!==x&&!1===A.includes(x)&&A.push(x);for(var L=1;L<=20;L++){var S=C[k].get("dimension"+L);void 0!==S&&(w[L]=S)}}N.sort(),I.sort(),A.sort(),y=y+"&_p_ga_wpi="+N.join(","),y=y+"&_p_sf_gacids="+I.join(","),y=y+"&_p_ga_cnames="+A.join(","),y=y+"&_p_ga_dims="+this.stringify(w)}else"undefined"!=typeof _gat&&"string"==typeof _gat.bb&&(y=y+"&_p_ga_wpi="+_gat.bb);"undefined"!=typeof SZCD&&void 0!==SZCD.UID&&(y=y+"&_p_sm__uid="+SZCD.UID,void 0!==SZCD.CID&&(y=y+"&_p_sm__cid="+SZCD.CID),void 0!==SZCD.VTID&&(y=y+"&_p_sm__vtid="+SZCD.VTID)),"undefined"!=typeof Adform&&void 0!==Adform._uid&&""!==Adform._uid&&(y=y+"&_p_adform_cookie_id="+Adform._uid);for(var k=0;k<this._defaultCookies.length;k++)this.getCookie(this._defaultCookies[k])&&(y=y+"&"+this._defaultCookies[k]+"="+encodeURIComponent(this.getCookie(this._defaultCookies[k])));if("object"==typeof s&&null!==s&&"function"==typeof s.c_r&&(y=y+"&_p_asc_s_vi="+s.c_r("s_vi").substring(7,40),"object"==typeof s.visitor&&"function"==typeof s.visitor.getMarketingCloudVisitorID&&(y=y+"&_p_asc_mid="+s.visitor.getMarketingCloudVisitorID()),"string"==typeof s.fid&&(y=y+"&_p_asc_fid="+s.fid),"string"==typeof s.un&&(y=y+"&_p_asc_un="+s.un),"string"==typeof s_account?y=y+"&_p_asc_rsid="+s_account:"string"==typeof s.account&&(y=y+"&_p_asc_rsid="+s.account),"string"==typeof s.version&&(y=y+"&_p_asc_version="+s.version),"string"==typeof s.visitorNamespace&&(y=y+"&_p_asc_visitorNamespace="+s.visitorNamespace),"string"==typeof s.trackingServer&&(y=y+"&_p_asc_trackingServer="+s.trackingServer),"string"==typeof s.channel&&(y=y+"&_p_asc_channel="+s.channel),"string"==typeof s.campaign&&(y=y+"&_p_asc_campaign="+s.campaign),"string"==typeof s.eVar3&&(y=y+"&_p_asc_eVar3="+s.eVar3)),"undefined"!=typeof return_ia_js_uid&&"function"==typeof return_ia_js_uid&&(y=y+"&_p_ia_uid="+return_ia_js_uid()),"undefined"!=typeof heap&&void 0!==heap.appid&&void 0!==heap.userid&&(y=y+"&_p_heap_aid="+heap.appid,y=y+"&_p_heap_uid="+heap.userid),"undefined"!=typeof _vwo_acc_id){for(var P,R,M="",F=0;F<_vwo_exp_ids.length;F++)R=_vwo_exp_ids[F],_vwo_exp[R].ready&&(P=this.getCookie("_vis_opt_exp_"+R+"_combi"),void 0!==_vwo_exp[R].combination_chosen&&(P=_vwo_exp[R].combination_chosen),void 0!==_vwo_exp[R].comb_n[P]&&(M=M+R+","+P+";"));M&&(y=y+"&_p_vwo_acc_id="+_vwo_acc_id,y=y+"&_p_vwo_t_v="+M,y=y+"&_p_vwo_uuid="+this.getCookie("_vwo_uuid"))}if("object"==typeof optimizely&&"function"==typeof optimizely.get&&("object"==typeof optimizely.get("data")&&"string"==typeof optimizely.get("data").accountId&&(y=y+"&_p_opt_acc_id="+optimizely.get("data").accountId),"object"==typeof optimizely.get("visitor")&&"string"==typeof optimizely.get("visitor").visitorId&&(y=y+"&_p_opt_vis_id="+optimizely.get("visitor").visitorId)),"object"==typeof Kameleoon&&"object"==typeof Kameleoon.API&&("object"==typeof Kameleoon.API.Core&&"function"==typeof Kameleoon.API.Core.getConfiguration&&"string"==typeof Kameleoon.API.Core.getConfiguration().siteCode&&(y=y+"&_p_kam_site_code="+Kameleoon.API.Core.getConfiguration().siteCode),"object"==typeof Kameleoon.API.Visitor&&"string"==typeof Kameleoon.API.Visitor.code&&(y=y+"&_p_kam_vis_code="+Kameleoon.API.Visitor.code)),"object"==typeof ABTasty&&"function"==typeof ABTasty.getAccountSettings&&"object"==typeof ABTasty.getAccountSettings()&&"string"==typeof ABTasty.getAccountSettings().identifier){y+="&_p_abt_chid="+ABTasty.getAccountSettings().identifier;var O=1,B="",D=[],H=[],j=this.getCookie("ABTasty");if("string"==typeof j&&j.length>0){var U=JSON.parse('{"'+decodeURI(j).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\s/g,"")+'"}');"object"==typeof U&&"string"==typeof U.ns&&U.ns.length>0&&(O=U.ns)}if("object"==typeof ABTasty.visitor&&"string"==typeof ABTasty.visitor.id&&ABTasty.visitor.id.length>0&&(B+=ABTasty.visitor.id,"function"==typeof ABTasty.getTestsOnPage))for(var V=ABTasty.getTestsOnPage(),q=Object.keys(V),G=0;G<q.length;G++)void 0!==V[q[G]].variationID&&(B+="*"+q[G]+"."+V[q[G]].variationID+"."+O,D.push(q[G]),H.push(V[q[G]].variationID));y+="&_p_abt_cookie="+B,y+="&_p_abt_tests="+D.join(","),y+="&_p_abt_variations="+H.join(",")}if("undefined"!=typeof _kTck&&void 0!==_kTck.pClId){var z=this.getCookie("K_"+_kTck.pClId);z&&(y+="&_p_mad_client_id="+_kTck.pClId+"&_p_mad_cookie="+z)}if("undefined"!=typeof vscr&&void 0!==vscr.state&&void 0!==vscr.state.accountId&&(y+="&_p_cubed_aid="+vscr.state.accountId),"object"==typeof ADMO&&"function"==typeof ADMO.method.getCookieInformation){var K=ADMO.method.getCookieInformation("cikneeto_uuid");"string"==typeof K&&K.length>0&&(K=K.split(":"),void 0!==K[1]&&(K=K[1],36===K.length&&(y+="&_p_admotv="+K)))}if("object"==typeof tealium&&"function"==typeof tealium.getVisitorId?y+="&_p_tealium_visitor_id="+tealium.getVisitorId():"object"==typeof utag&&"object"==typeof utag.data&&"string"==typeof utag.data.tealium_visitor_id&&(y+="&_p_tealium_visitor_id="+utag.data.tealium_visitor_id),"object"==typeof Advalo&&"function"==typeof Advalo.getAsyncTracker&&(y+="&_p_advalo_site_id="+Advalo.getAsyncTracker().getSiteId(),y+="&_p_advalo_visit_id="+Advalo.getAsyncTracker().getVisitId(),y+="&_p_advalo_visitor_id="+Advalo.getAsyncTracker().getVisitorId()),"object"==typeof _etracker&&("function"==typeof _etracker.getCoid&&(y=y+"&_p_et_coid="+_etracker.getCoid()),"string"==typeof et_secureId&&(y=y+"&_p_et_et="+et_secureId),"string"==typeof et_ver&&(y=y+"&_p_et_ver="+et_ver),"number"==typeof et_ilevel&&(y=y+"&_p_et_ilevel="+et_ilevel),"string"==typeof et_deliveryHash&&(y=y+"&_p_et_dh="+et_deliveryHash),"string"==typeof et_seg1&&(y=y+"&_p_et_seg1="+et_seg1)),sameSite=this.checkSameSite(),(1==sameSite||o)&&this.getCookie("__fs_dncs_prep_u")?(c=this.base64_encode(decodeURI(this.getCookie("__fs_dncs_prep_u"))),_=this.getCookie("__fs_dncs_prep_r")?this.base64_encode(decodeURI(this.getCookie("__fs_dncs_prep_r"))):""):(c=this._spa.overrideUrl?this.base64_encode(decodeURI(this._spa.overrideUrl)):this.base64_encode(decodeURI(document.location.href)),_=this._spa.referrer?this.base64_encode(decodeURI(this._spa.referrer)):document.referrer?this.base64_encode(decodeURI(document.referrer)):""),u=[],l=[],i)l=[i],i.indexOf(";")>=0&&(i=i.slice(0,i.indexOf(";")));else for(var Z in this._advid){var W="";this._advid[Z].requested_ndc&&(W=this._advid[Z].requested_ndc),l.push(Z+";"+W)}if(0!==l.length){if("string"==typeof r&&(r=r.length>0?Number(r):this._shard),void 0===r&&!1!==this._shard&&(r=this._shard),""!==this._altAnsNums&&(m=this.base64_encode(this.stringify(this._altAnsNums))),l=this.base64_encode(l.join(",")),t)if(this._numberConfigurations[t]&&this._numberConfigurations[t].connect_to){var X=this.cleanNumber(this._numberConfigurations[t].connect_to);u.push(X),this._alternativeNumbers[X]=this._alternativeNumbers[X]||[],this._alternativeNumbers[X].push(t)}else u.push(t);else for(Z in this._numbers)if(this._numbers.hasOwnProperty(Z)&&!(Z.length>20))if(this._numberConfigurations[Z]&&this._numberConfigurations[Z].connect_to){if(-1===this._numberConfigurations[Z].connect_to.indexOf(";"))var X=this.cleanNumber(this._numberConfigurations[Z].connect_to);else var X=this.cleanNumbersSeparated(this._numberConfigurations[Z].connect_to,";");u.push(X),this._alternativeNumbers[X]=this._alternativeNumbers[X]||[],this._alternativeNumbers[X].push(Z)}else u.push(Z);u=this.base64_encode(u.join(",")),h=this.base64_encode((n||this._parameterString)+y);var $="__fs_dncs_instance.backendCallback";a&&($=a),i?(d=this.getSessionId(i),f=this.getTrackingId(i)):(d=this.getSessionId(),f=this.getTrackingId()),!0!==this._crossDomainRequest&&!0!==this._forceSameSiteForGetNumber||(sameSite=1),!0===this._dryRun&&(b=1),!0===this.getParameter("cookieLessMode",!1)&&(v=1),p=this.getCookie("__fs_dncs_exttrack")?this.getCookie("__fs_dncs_exttrack"):"0",g=this._getNumberEventTag?this.base64_encode(this._getNumberEventTag):"";var J="advid:"+l+"/sessionId:"+d+"/url:"+c+"/referrer:"+_+"/numbersToReplace:"+u+"/parameters:"+h+"/sameSite:"+(o?0:sameSite)+"/trackingId:"+f+"/extTrack:"+p+(e?"/preFlight:1":"")+("number"==typeof r?"/shard:"+r:"")+(m?"/altNum:"+m:"")+(g?"/eventTag:"+g:"")+(b?"/dryRun:"+b:"")+(v?"/cookieLess:"+v:""),Q=this.getParameter("freespeeHost","//analytics.freespee.com")+"/index.php?url=/external/dncs";this.jsonp(Q,$,J)}},checkAndUpdatePendingBackendRequest:function(e,t){var i=(new Date).getTime();for(var n in this.numberCallbackInfo)if(this.numberCallbackInfo.hasOwnProperty(n)){var s=this.numberCallbackInfo[n];if(s&&s.backendRequestId==e&&i<s.timestamp+600)return s.callbacks.push(t),s.timestamp=i,!0}return!1},numberCallbackInfo:{},getNumber:function(e,t,i,n,s,a,r){var o=(new Date).getTime();this._getNumberEventTag=void 0===r?"getNumber":r;var d="__fs_"+Math.floor(1e7*Math.random());window[d]=function(e){return function(t){__fs_dncs_instance.backendCallback(t,e)}}(d);var c=i;i=this.cleanNumber(i);var _=i+n+a+s+this._getNumberEventTag;this.checkAndUpdatePendingBackendRequest(_,e)||(this.makeBackendRequest(!1,i,n,a,d,s,0),this.numberCallbackInfo[d]={callbacks:[e],reference:t,backendRequestId:_,timestamp:o,createdFrom:"getNumber",originalNumber:c})},requestCallback:function(e,t,i,n,s,a,r,o,d,c){var _,u=(new Date).getTime(),l="__fs_"+Math.floor(1e7*Math.random());if(window[l]=function(e){return function(t){__fs_dncs_instance.cbwFormInternalCallback(t,e)}}(l),e=e||this._stradvid,this.getCookie("__fs_dncs_sessionid_"+e))_=this.getCookie("__fs_dncs_sessionid_"+e);else{if(!this.getCookie("__fs_dncs_sessionid"))return void o(d,{status:"fail",errors:["No session initiated."]});_=this.getCookie("__fs_dncs_sessionid")}var h=_+n+i+t+(r?"&time="+r:"")+s+this.base64_encode(this.stringify(a))+c;if(!this.checkAndUpdatePendingBackendRequest(h,o)){var f=this.getParameter("freespeeHost","https://analytics.freespee.com")+"/cbw/call?jsonp="+l+"&session_id="+_+"&phonenr="+encodeURIComponent(this.cleanNumber(n))+"&cc_phonenr="+encodeURIComponent(i)+"&answeringnr="+encodeURIComponent(t)+(r?"&time="+r:"")+"&caller_id="+encodeURIComponent(this.cleanNumber(s))+"&custom="+this.base64_encode(this.stringify(a))+"&retries="+encodeURIComponent(c);this.jsonp(f,null),this.numberCallbackInfo[l]={callbacks:[o],reference:d,backendRequestId:h,timestamp:u,createdFrom:"requestCallback"}}},cbwFormInternalCallback:function(e,t){if(t&&this.numberCallbackInfo[t]){for(var i=this.numberCallbackInfo[t].callbacks,n=0;n<i.length;n++)i[n](this.numberCallbackInfo[t].reference,e);this.numberCallbackInfo[t]=null}},
loadAdv:function(e){this._loadEventTriggered=!1,this._advid={},this.setAdv(e),this.loadEvent()},backendCallback:function(e,t){var i=0,n=!1,s=this._sessionCookieLifetime,a=performance.now();this.runRequestTimerFunction(this._startRequestTime,a);for(var r in this._advid)this._advid.hasOwnProperty(r)&&i++;if("success"===e.status&&0==e.clear_cookie?(e.cookie_ttl!=s&&(s=e.cookie_ttl),i<=1?this.setCookie("__fs_dncs_sessionid_"+e.advid,e.session_id,s):this.setCookie("__fs_dncs_sessionid",e.session_id,s),n=!0):"success"===e.status&&1==e.clear_cookie&&(i<=1?this.setCookie("__fs_dncs_sessionid_"+e.advid,"",-1):this.setCookie("__fs_dncs_sessionid","",-1)),t||!0!==n||(this._forceSameSiteForGetNumber=!0),"success"===e.status){if(i<=1?this.setCookie("__fs_dncs_trackingid_"+e.advid,e.tracking_id,525600):this.setCookie("__fs_dncs_trackingid",e.tracking_id,525600),this.setCookie("__fs_dncs_exttrack",e.ext_track,525600),t&&this.numberCallbackInfo[t]){if("getNumber"===this.numberCallbackInfo[t].createdFrom){var o,d=this.numberCallbackInfo[t].callbacks[0],c=this.numberCallbackInfo[t].reference,_=this.numberCallbackInfo[t].originalNumber;o=1===e.numbers.length?e.numbers[0].replace_with:this.getParameter("returnInputNumber",!0)?{e164:_,local:_,meas_id:null}:null,d(c,o)}else for(var u=0,l=e.numbers.length;u<l;u++)for(var h=this.numberCallbackInfo[t].callbacks,f=0;f<h.length;f++)h[f](this.numberCallbackInfo[t].reference,e.numbers[u].replace_with);return void(this.numberCallbackInfo[t]=null)}if(void 0!==e.numbers_to_replace)return void this.addFsLinkToDOM(e.numbers_to_replace);"function"==typeof this._allAdvid[e.advid].formatting_function&&(this._formattingFunction=this._allAdvid[e.advid].formatting_function);for(var u=0,l=e.numbers.length;u<l;u++)if(this._alternativeNumbers.hasOwnProperty(e.numbers[u].number_on_page))for(var p=0;p<this._alternativeNumbers[e.numbers[u].number_on_page].length;p++)this._numbers[this._alternativeNumbers[e.numbers[u].number_on_page][p]].replace_with=e.numbers[u].replace_with;else this._numbers[e.numbers[u].number_on_page].replace_with=e.numbers[u].replace_with;for(var f=0,m=this._spans.length;f<m;f++){var g=this.cleanNumber(this._spans[f].innerHTML);""==g&&this._spans[f].action&&(g=this.cleanNumber(this._spans[f].action)),""==g&&(g=this.cleanNumber(this._spans[f].href)),this._numbers[g]&&this._numbers[g].replace_with&&this.replaceNumber(this._spans[f],this._numbers[g].replace_with)}if("function"==typeof this.getParameter("dynamicCallback")&&this.getParameter("dynamicCallback")(e),this.getParameter("numberDetection",!1)){var b=this;setTimeout(function(){b.loopTextElementsForNumbers(document.body,!0)},1)}this._spans.length>0&&!this.getParameter("preventWebkitWorkaround",!1)&&(this._spans[0].style.cssText+=";-webkit-transform:rotateZ(0deg)",this._spans[0].offsetHeight,this._spans[0].style.cssText+=";-webkit-transform:none");for(var r in this._advid)this._advid[r].cbw_visible_number&&this._numbers[this._advid[r].cbw_visible_number]&&this._numbers[this._advid[r].cbw_visible_number].replace_with?this._advid[r].cbw_visible_number=this._numbers[this._advid[r].cbw_visible_number].replace_with.local:delete this._advid[r].cbw_visible_number;e.cbw_enabled&&this._allAdvid[e.advid].cbw_answering_number_id&&this.setupCbw(e.session_id,this._advid[e.advid])}else if(t&&this.numberCallbackInfo[t]&&"getNumber"===this.numberCallbackInfo[t].createdFrom){var o,d=this.numberCallbackInfo[t].callbacks[0],c=this.numberCallbackInfo[t].reference,_=this.numberCallbackInfo[t].originalNumber;o=this.getParameter("returnInputNumber",!0)?{e164:_,local:_,meas_id:null}:null,d(c,o),this.numberCallbackInfo[t]=null}},jsonp:function(e,t,i){t&&i&&(e+="/callback:",e+=t+"/",i&&(e+=i+"/"));var n=document.createElement("script");n.setAttribute("src",e),n.setAttribute("type","text/javascript");var s=document.getElementsByTagName("head");s.length>0&&s[0].appendChild(n)},openCbw:function(){var e,t,i;e=document.getElementById("fs-callback-widget-overlay"),"desktop"===this.getParameter("cbw_style","desktop")?(t=document.getElementById("fs-callback-widget-bg"),e&&t&&(e.style.display="block",t.style.display="block")):(i=document.getElementById("fs-callback-widget-top"),e&&i&&(this.oldPageMargin=document.body.style.margin,this.oldPagePadding=document.body.style.padding,document.body.style.margin="0px",document.body.style.padding="0px",e.style.display="block",i.style.display="block",window.scrollTo(0,0)))},closeCbw:function(){var e,t,i;e=document.getElementById("fs-callback-widget-overlay"),"desktop"===this.getParameter("cbw_style","desktop")?(t=document.getElementById("fs-callback-widget-bg"),e&&t&&(e.style.display="none",t.style.display="none")):(i=document.getElementById("fs-callback-widget-top"),e&&i&&(document.body.style.margin=this.oldPageMargin,document.body.style.padding=this.oldPagePadding,e.style.display="none",i.style.display="none"))},setupCbw:function(e,t){var i,n,s,a,r,o,d,c;i=this.getParameter("freespeeHost","https://analytics.freespee.com")+"/cbw/frame",i+="/sid:"+e,i+="/answeringnr:"+encodeURIComponent(encodeURIComponent(t.cbw_answering_number_id)),t.cbw_caller_id&&(i+="/caller_id:"+encodeURIComponent(encodeURIComponent(t.cbw_caller_id))),t.cbw_visible_number&&(i+="/visible_number:"+encodeURIComponent(encodeURIComponent(t.cbw_visible_number))),s=new Date,i+="/tz_offset:"+s.getTimezoneOffset(),i+="/language:"+this.getParameter("language","en_US"),"mobile"===t.cbw_style&&(i+="/mobile:1"),a=t.cbw_style||"desktop","desktop"===a?(r=document.getElementById(t.cbw_button_id||"fs-open-callback-widget"),r||(r=document.createElement("div"),r.setAttribute("id","fs-open-callback-widget"),r.style.cursor="pointer",r.style.position="absolute",r.style.right="0",r.style.top="200px",r.style.width="39px",r.style.height="58px",r.style.background="url("+this.getParameter("freespeeHost","https://analytics.freespee.com")+"/images/tab-phone-green.png) no-repeat",document.body.appendChild(r)),c=document.createElement("div"),c.setAttribute("id","fs-callback-widget-bg"),c.style.display="none",c.style.position="fixed",c.style.top="0",c.style.right="0",c.style.bottom="0",c.style.left="0",c.style.background="#000",c.style.opacity=".5",c.style.filter="alpha(opacity = 50)",d=document.createElement("div"),d.setAttribute("id","fs-callback-widget-overlay"),d.style.display="none",d.style.position="fixed",d.style.top="50%",d.style.left="50%",d.style.margin="-137px 0 0 -195px",d.style.backgroundColor="#fff",d.style.padding="2px",d.style.borderRadius="4px",d.style.boxShadow="rgb(0, 0, 0) 0px 3px 6px",d.style.zIndex=9999,n=document.createElement("iframe"),n.setAttribute("src",i),n.setAttribute("width","415"),n.setAttribute("height","270"),n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),o=document.createElement("div"),o.setAttribute("id","fs-close-callback-widget"),o.style.cursor="pointer",o.style.position="absolute",o.style.top="-16px",o.style.right="-16px",o.style.width="32px",o.style.height="31px",o.style.background="url("+this.getParameter("freespeeHost","https://analytics.freespee.com")+"/images/close_cbw.png) no-repeat",d.appendChild(o),document.body.appendChild(c),document.body.appendChild(d),r.onclick=function(e){d.appendChild(n),d.style.display="block",c.style.display="block"},c.onclick=o.onclick=function(e){d.style.display="none",c.style.display="none",d.removeChild(n)}):(d=document.createElement("div"),d.setAttribute("id","fs-callback-widget-overlay"),d.setAttribute("style","line-height: 0; display: none; position: absolute; top: 0px; right: 0; left: 0; background: #fff; overflow: auto;"),n=document.createElement("iframe"),n.setAttribute("src",i),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("frameborder","0"),n.setAttribute("scrolling","auto"),window.innerHeight?n.setAttribute("style","min-height: "+window.innerHeight+"px;"):n.setAttribute("style","min-height: 360px;"),document.body.appendChild(d),r=document.getElementById(t.cbw_button_id||"fs-open-callback-widget"),r.onclick=function(e){d.appendChild(n),this.oldPageMargin=document.body.style.margin,this.oldPagePadding=document.body.style.padding,document.body.style.margin="0px",document.body.style.padding="0px",d.style.display="block",window.scrollTo(0,0)},eventListener=function(e){"cbw_back_pressed"===e.data&&(document.body.style.margin=this.oldPageMargin,document.body.style.padding=this.oldPagePadding,d.style.display="none",d.removeChild(n))},window.addEventListener?window.addEventListener("message",eventListener,!1):window.attachEvent("onmessage",eventListener),resizeEventListener=function(){window.innerHeight?n.setAttribute("style","min-height: "+window.innerHeight+"px;"):n.setAttribute("style","min-height: 360px;")},window.addEventListener?window.addEventListener("resize",resizeEventListener,!1):window.attachEvent("onresize",resizeEventListener))},httpGet:function(e){if(window.XMLHttpRequest){var t=new XMLHttpRequest;t.open("GET",e,!0),t.send(null)}},httpPost:function(e,t){var i=this.stringify(t);if(window.XMLHttpRequest)try{var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.onloadend=function(){if(n.status>=200&&n.status<300){var e=JSON.parse(n.responseText);e.success||console.error("The API call failed with message: ",e.error)}else console.error("Connection to the API failed with http status code: ",n.status)},n.send(i)}catch(e){console.error("Setup of POST XHR failed with exeception: ",e)}},setupSnapengage:function(){if("undefined"!=typeof SnapEngage){var e=__fs_dncs_instance,t=e.getParameter("freespeeHost","https://analytics.freespee.com")+"/collect/chat?cp=se&sId="+e.getSessionId();SnapEngage.setCallback("Open",function(i){e.httpGet(t+"&e=1&a="+e.base64_encode(i))}),SnapEngage.setCallback("Close",function(i,n){e.httpGet(t+"&e=2&a="+e.base64_encode(i)+"&b="+e.base64_encode(n))}),SnapEngage.setCallback("StartChat",function(i,n,s){e.httpGet(t+"&e=3&a="+e.base64_encode(i)+"&b="+e.base64_encode(n)+"&c="+e.base64_encode(s))}),SnapEngage.setCallback("ChatMessageSent",function(i){e.httpGet(t+"&e=4&a="+e.base64_encode(i))}),SnapEngage.setCallback("ChatMessageReceived",function(i,n){e.httpGet(t+"&e=5&a="+e.base64_encode(i)+"&b="+e.base64_encode(n))}),SnapEngage.setCallback("OpenProactive",function(i,n){e.httpGet(t+"&e=6&a="+e.base64_encode(i)+"&b="+e.base64_encode(n))})}},loadSyncUrl:function(e){if(e){var t=document.createElement("img");t.setAttribute("src",e),t.setAttribute("style","position: absolute; height: 0px; width: 0px;"),document.head.appendChild(t)}},loadExtraScript:function(e){if(e){var t=document.createElement("script");t.type="text/javascript",t.innerHTML=e,document.body.appendChild(t)}},sendEvent:function(e,t,i,n){var s=this.getParameter("freespeeHost","https://analytics.freespee.com")+"/collect/fs-event";null===n&&(n=this._stradvid);var a=[];for(var r in this._allAdvid)a.push(this.getSessionId(r));this.httpPost(s,{event_type:e,event_identifier:t,event_data:i,sessionIds:a,advId:n})}},void 0===__fs_dncs_instance&&(__fs_dncs_instance=new __fs_dncs);
//# sourceMappingURL=maps/fs.min.js.map
