(function(){var c=!0;try{var a=document.getElementById("trustedShopsCheckout");a?a.remove():c=!1}catch(d){c=!1}function f(d,i){function t(o,u){var v="",h=u.line_items;for(var m in h){var s=h[m],k='        <div class="tsCheckoutProductItem">            <div class="tsCheckoutProductUrl">'+s.productUrl+'</div>            <div class="tsCheckoutProductImageUrl">'+s.imageUrl+'</div>            <div class="tsCheckoutProductName">'+s.title+'</div>            <div class="tsCheckoutProductSKU">'+s.sku+'</div>            <div class="tsCheckoutProductGTIN">'+s.barcode+'</div>             <div class="tsCheckoutProductBrand">'+s.vendor+"</div>        </div>        ";v+=k}var l=document.createElement("div");l.innerHTML='      <!-- Trusted Shops v3.4 -->      <div id="trustedShopsCheckout" style="display:none;">        <!-- <div id="tsCheckoutOrderNr">'+o.order_id+'</div> -->        <div id="tsCheckoutOrderNr">'+u.orderName+'</div>        <div id="tsCheckoutBuyerId">'+o.customer_id+'</div>        <div id="tsCheckoutBuyerEmail">'+o.email+'</div>        <div id="tsCheckoutOrderAmount">'+o.total_price+'</div>        <div id="tsCheckoutOrderPaymentType">'+u.paymentGateway+'</div>        <div id="tsCheckoutOrderCurrency">'+o.currency+"</div>        <!-- for each product in the basket full set of data is required -->        "+v+"        <!-- product reviews end -->      </div>      <!-- Trusted Shops v3.4 - END -->      ",document.body.appendChild(l)}if(Shopify&&Shopify.Checkout&&Shopify.Checkout.OrderStatus)if(Shopify&&Shopify.checkout&&Shopify.Checkout&&(Shopify.Checkout.page=="thank_you"||Shopify.Checkout.step=="thank_you")){var r=Shopify.checkout;console.log("checkoutScript 3.4 | first load - show trustbadge ...");var y="https://trustedshops.vilango.com/orderstatus/"+Shopify.shop+"/"+r.order_id+"/"+r.created_at+"?oldSnippetPresent="+d,e=new XMLHttpRequest;e.open("GET",y),e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE)if(e.status===200){var o=JSON.parse(e.response);t(r,o),i(null)}else throw i(e.status),console.log("checkoutScript 3.4 | error happened",JSON.stringify(Shopify)),Error("Could not get order status: "+e.status+"|"+e.response)},e.send()}else console.log("checkoutScript 3.4 | consecutive load - don't show trustbadge");else i()}typeof addProductData=="function"&&addProductData(),f(c,function(d){d?console.error("Error - Not adding a tsScript",d):function(){var i="X6F3F34BD635A8DABCA5D1AEAF29F85EB";_tsConfig={yOffset:"50",variant:"reviews",disableTrustbadge:"true"};var t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.async=!0,t.src="//widgets.trustedshops.com/js/"+i+".js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}()});var n=document.createElement("style");n.innerHTML="#trustedshops-productreviews-sticker-wrapper {margin: 20px 20px 0 20px;}";var p=document.querySelector("script");p.parentNode.insertBefore(n,p)})();
//# sourceMappingURL=/s/files/1/0606/5325/t/54/assets/trustedshops_shopify.js.map?shop=watchxchange-2.myshopify.com&v=1665736271
